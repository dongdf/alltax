webpackJsonp([14],{"2l1K":function(t,e,i){"use strict";(function(t){var n=i("MD74");e.a={name:"index",data:function(){return{fxitems:[{name:"财税",id:1,ckd:!1},{name:"法律",id:2,ckd:!1},{name:"其它",id:3,ckd:!1}],itemSelect:{},info:{name:"",phone:"",companyName:"",nation:"",sex:"",email:"",profile:"",pic_url:"",direction:"",topicSelection:""}}},components:{csupload:n.a},mounted:function(){var e=this;t(function(){var e=t("#forms").offset().top-500;t(window).scroll(function(){t("html,body").scrollTop()>e?t(".zixun").hide():t(".zixun").show()})}),this.$nextTick(function(){if(e.$route.query.pos){var i=document.getElementById("forms").offsetTop;setTimeout(function(){t("html,body").animate({scrollTop:i},200)},200)}})},methods:{selobj:function(t){var e=this.fxitems.findIndex(function(e){return e.id===t.id});for(var i in this.fxitems)this.fxitems[i].ckd=!1;this.fxitems[e].ckd=!0,this.itemSelect=t},wirteForm:function(){var e=document.getElementById("forms").offsetTop;t("html,body").animate({scrollTop:e},200)},collectionSubmit:function(){var t=this;return this.$refs.csupload.tempImgs.length>0&&this.$refs.csupload.tempImgs[0].url&&(this.info.pic_url=this.$refs.csupload.tempImgs[0].url),this.info.direction=this.itemSelect.name,this.info.name.trim()?this.info.sex.trim()?this.info.nation.trim()?this.$options.filters.isphone(this.info.phone)?this.info.email.trim()?this.info.companyName.trim()?this.info.profile.trim()?this.info.pic_url.trim()?this.info.direction?this.info.topicSelection.trim()?void this.$http.post("user/lecturerGroupInfoService/insert",this.info).then(function(e){1==e.data.code?t.$messagebox.alert("提交成功，请等待","提示").then(function(e){t.$router.push({path:"/"})}):t.$messagebox.alert(e.data.msg)}):(this.$toast("请填写课程选题！"),!1):(this.$toast("请选择授课方向"),!1):(this.$toast("请上传形象照！"),!1):(this.$toast("请填写个人简介！"),!1):(this.$toast("请填写现任职单位及职称！"),!1):(this.$toast("请填写邮箱！"),!1):(this.$toast("请填写正确的手机号码！"),!1):(this.$toast("请填写民族！"),!1):(this.$toast("请填写性别！"),!1):(this.$toast("请填写姓名！"),!1)}}}}).call(e,i("7t+N"))},DGjg:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("2l1K"),s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"page-field",attrs:{id:"forms"}},[i("div",{staticClass:"page-title"},[t._v("财合税（北京）信息技术有限公司师资库")]),t._v(" "),i("div",{staticStyle:{color:"#c69d62",background:"#FFF",padding:"10px","text-align":"center"}},[t._v("以下内容我们将采取严格的保密措施，请您放心填写")]),t._v(" "),i("div",{staticClass:"page-part",staticStyle:{"margin-top":"10px"}},[t._m(0),t._v(" "),i("mt-field",{attrs:{label:"姓名",placeholder:"请输入姓名",type:"text"},model:{value:t.info.name,callback:function(e){t.$set(t.info,"name",e)},expression:"info.name"}}),t._v(" "),i("mt-field",{attrs:{label:"性别",placeholder:"请输入性别",type:"text"},model:{value:t.info.sex,callback:function(e){t.$set(t.info,"sex",e)},expression:"info.sex"}}),t._v(" "),i("mt-field",{attrs:{label:"民族",placeholder:"请输入民族",type:"text"},model:{value:t.info.nation,callback:function(e){t.$set(t.info,"nation",e)},expression:"info.nation"}}),t._v(" "),i("mt-field",{attrs:{label:"电话",placeholder:"请输入电话",type:"text"},model:{value:t.info.phone,callback:function(e){t.$set(t.info,"phone",e)},expression:"info.phone"}}),t._v(" "),i("mt-field",{attrs:{label:"邮箱",placeholder:"请输入邮箱",type:"text"},model:{value:t.info.email,callback:function(e){t.$set(t.info,"email",e)},expression:"info.email"}})],1),t._v(" "),i("div",{staticClass:"page-part"},[t._m(1),t._v(" "),i("mt-field",{attrs:{placeholder:"请输入现任职单位及职称",rows:"4",type:"textarea"},model:{value:t.info.companyName,callback:function(e){t.$set(t.info,"companyName",e)},expression:"info.companyName"}}),t._v(" "),t._m(2),t._v(" "),i("mt-field",{attrs:{placeholder:"请输入个人简介",type:"textarea",rows:"4"},model:{value:t.info.profile,callback:function(e){t.$set(t.info,"profile",e)},expression:"info.profile"}}),t._v(" "),t._m(3),t._v(" "),i("div",{staticClass:"upbgs"},[i("csupload",{ref:"csupload",attrs:{max:1}})],1)],1),t._v(" "),i("br"),t._v(" "),i("div",{staticClass:"page-part"},[t._m(4),t._v(" "),i("div",{staticClass:"uprds"},t._l(t.fxitems,function(e){return i("b",{class:e.ckd?"ckd":"",on:{click:function(i){t.selobj(e)}}},[i("i"),t._v(t._s(e.name))])})),t._v(" "),t._m(5),t._v(" "),i("mt-field",{attrs:{placeholder:"请输入课程选题",type:"textarea",rows:"4"},model:{value:t.info.topicSelection,callback:function(e){t.$set(t.info,"topicSelection",e)},expression:"info.topicSelection"}})],1)]),t._v(" "),i("div",{staticClass:"btnw"},[i("mt-button",{staticClass:"btns",attrs:{size:"large"},nativeOn:{click:function(e){return t.collectionSubmit(e)}}},[t._v("提交资料")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"itemTitle"},[e("b",[this._v("基本信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"itemTitle"},[e("b",[this._v("现任职单位及职称")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"itemTitle"},[e("b",[this._v("个人简介")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"itemTitle"},[e("b",[this._v("上传形象照")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"itemTitle"},[e("b",[this._v("可授课方向")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"itemTitle"},[e("b",[this._v("课程选题")])])}]};var a=function(t){i("MDjk")},o=i("VU/8")(n.a,s,!1,a,"data-v-6e94a5d0",null);e.default=o.exports},MD74:function(t,e,i){"use strict";var n=i("Rije"),s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"csup"},[n("ul",[n("li",{directives:[{name:"show",rawName:"v-show",value:t.tempImgs.length<t.max,expression:"tempImgs.length<max"}],on:{click:t.chooseImg}},[t._m(0)]),t._v(" "),t._l(t.tempImgs,function(e){return n("li",[n("div",{staticClass:"pics"},[n("img",{attrs:{src:e.url}})]),t._v(" "),n("i",{staticClass:"del",on:{click:function(i){t.delimg(e)}}},[n("img",{attrs:{src:i("JNLr")}})])])}),t._v(" "),n("div",{staticClass:"cl"})],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pics addpic"},[e("img",{attrs:{src:i("xuvL")}})])}]};var a=function(t){i("xsts")},o=i("VU/8")(n.a,s,!1,a,"data-v-4f3a18de",null);e.a=o.exports},MDjk:function(t,e){},Rije:function(t,e,i){"use strict";(function(t){var n=i("//Fk"),s=i.n(n),a=i("mtWM"),o=i.n(a);e.a={name:"csupload",props:["max"],data:function(){return{filePath:null,targetFile:null,imgurl:"",tempImgs:[],previewImg:{data:""}}},methods:{chooseImg:function(){var t=this;wx.ready(function(){wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){e.localIds;t.uploadWximg(e.localIds).then(function(e){return t.getwxImg(e)}).then(function(e){t.tempImgs.push({url:e.data})})}})})},uploadWximg:function(t){return new s.a(function(e,i){wx.ready(function(){wx.uploadImage({localId:t.toString(),isShowProgressTips:1,success:function(t){t.serverId;e(t.serverId)}})})})},getwxImg:function(t){var e=this;return new s.a(function(i,n){e.$http.get("authentication/weChat/uploadMediaToOSS?mediaId="+t).then(function(t){i(t.data)})})},delimg:function(t){var e=this.tempImgs.findIndex(function(e){return t.url==e.url});this.tempImgs.splice(e,e+1)},handleFileChange:function(e){var i=this.$refs.inputer;if(this.targetFile=i,this.file=i.files[0],this.errText="",Math.floor(this.file.size/1024)>2048)return t.toast("上传文件不要超过2M"),!1;this.$emit("input",this.file),this.fileName=this.file.name,this.upload(this.file)},upload:function(){var t=this,e=this;new s.a(function(t,i){e.$http.get("authentication/weChat/ossSignature").then(function(e){t(e.data)})}).then(function(t){return i=t,new s.a(function(t,n){var s=e.targetFile.files[0],a=s.name.split(".").length,l=(new Date).getTime()+"."+s.name.split(".")[a-1],c=new FormData;c.append("chunk","0"),c.append("OSSAccessKeyId",i.data.accessid),c.append("policy",i.data.policy),c.append("Signature",i.data.signature),c.append("Expires",i.data.expire),c.append("key",i.data.dir+l),c.append("success_action_status","200"),c.append("Access-Control-Allow-Origin","*"),c.append("file",s,s.name),console.log(c.get("file"));var r={headers:{"Content-Type":"multipart/form-data"}};console.log(r),e.$indicator.open({text:"上传中",spinnerType:"fading-circle"}),e.imgurl=i.data.host,o.a.post(i.data.host,c,r).then(function(n){if(200==n.status){var a={key:i.data.dir+l,name:s.name};e.$indicator.close(),e.$refs.inputer.value="",t(a)}})});var i}).then(function(e){console.log(t.imgurl+"/"+e.key);var i=t.imgurl+"/"+e.key;t.tempImgs.push({url:i})})}}}}).call(e,i("7t+N"))},xsts:function(t,e){},xuvL:function(t,e,i){t.exports=i.p+"static/img/addpic.fe2fe47.png"}});