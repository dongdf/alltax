webpackJsonp([24],{"0NH0":function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=a("mTUd"),e={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.start,expression:"start"}],staticClass:"faded"},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.activation,expression:"activation==0"}],staticClass:"step"},[a("h4",[a("span",{on:{click:t.hideToast}}),t._v("激活实体卡")]),t._v(" "),a("div",{staticClass:"colum"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.cardId,expression:"cardId"}],attrs:{type:"text"},domProps:{value:t.cardId},on:{input:function(i){i.target.composing||(t.cardId=i.target.value)}}})]),t._v(" "),a("div",{staticClass:"colum"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"text"},domProps:{value:t.password},on:{input:function(i){i.target.composing||(t.password=i.target.value)}}})]),t._v(" "),t._m(0)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.activation,expression:"activation==1"}],staticClass:"step"},[a("h4",{staticClass:"noBorder"},[a("span",{on:{click:t.hideToast}})]),t._v(" "),a("p",[t._v("恭喜您，实体卡激活成功，您目前会员等级")]),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"lightBtn"},[t._v("我知道了")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.activation,expression:"activation==2"}],staticClass:"step"},[a("h4",{staticClass:"noBorder"},[a("span",{on:{click:t.hideToast}})]),t._v(" "),a("p",[t._v("很遗憾，实体卡激活失败，您输入的卡号密码有误")]),t._v(" "),a("p",[t._v("请确认后重新输入或联系客服")]),t._v(" "),a("div",{staticClass:"lightBtn"},[t._v("重新输入")])])])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"colum"},[i("div",{staticClass:"lightBtn"},[this._v("立即激活")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("p",[i("span",[this._v("VIP 1")])])}]};var n=a("VU/8")({name:"pay",data:function(){return{cardId:"请输入卡号",password:"请输入密码",activation:1}},props:{start:{default:!1},sim:{default:!1},quan:{default:!1}},components:{},computed:{},methods:{hideToast:function(){this.payStart=!1}},mounted:function(){}},e,!1,function(t){a("78kv")},"data-v-67b40226",null).exports,o=(a("5JGS"),{data:function(){return{cardlist:[],cardError:"",paycomm:[],active:0,activeVip:!1,tipsError:"",activation:0,cardId:"",password:"",isvip:{},addmoney:"",addmoneyShow:!1,buyInfo:{isCoupon:!0,buyTitle:"订单金额",type:"1",info:{money:"998"},wxPay:!0,memberPay:!1},parentShowpay:!1}},components:{activate:n},methods:{cancleCz:function(){this.addmoneyShow=!1,this.addmoney=""},createCz:function(){this.buyInfo={buyTitle:"订单金额",isCoupon:!1,type:"6",info:{money:this.addmoney,resourceId:""},wxPay:!0,memberPay:!1}},chongzhi:function(){if(""==this.addmoney)return this.$toast("请输入充值金额"),!1;this.createCz(),this.paycomm.push({component:s.a,parentShowpay:!0,buyInfo:this.buyInfo})},getcards:function(){var t=this;this.$http.post("activity/activityService/fictitiousCard/findList",{subData:{card_type:0}}).then(function(i){t.cardlist=i.data.data})},toPayinfo:function(){this.buyInfo={buyTitle:"订单金额",isCoupon:!1,type:"7",info:{money:this.cardlist[0].amount,resourceId:this.cardlist[0].id},wxPay:!0,memberPay:!1}},actcard:function(){var t=this;this.$http.get("user/userService/getUserWeChatVo").then(function(i){if(!i.data.data.mobile)return t.$messagebox.confirm("请先完善用户信息","提示").then(function(i){t.$router.push("/login")}),!1;t.activeVip=!0})},buyVip:function(){var t=this;this.$http.get("user/userService/getUserWeChatVo").then(function(i){if(!i.data.data.mobile)return t.$messagebox.confirm("请先完善用户信息","提示").then(function(i){t.$router.push("/login")}),!1;t.toPayinfo(),t.paycomm.push({component:s.a,parentShowpay:!0,buyInfo:t.buyInfo})})},payClose:function(){this.paycomm[0].parentShowpay=!1,this.paycomm=[]},actVip:function(){var t=this;this.$http.post("activity/activityService/card/activateCard",{subData:{cardPassword:this.password}}).then(function(i){1==i.data.code?(t.activation=1,t.getisVip()):(t.activation=2,t.cardError=i.data.msg)})},tab:function(t){this.active=t},checku:function(){var t=this;this.$messagebox.confirm("请先完善用户信息","提示").then(function(i){t.$router.push("/login")})},getisVip:function(){var t=this;this.$http.get("user/userService/getUserWeChatVo").then(function(i){t.isvip=i.data.data})}},mounted:function(){this.getisVip(),this.getcards()}}),c={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("div",{staticClass:"myVip"},[s("div",{staticClass:"black_bg"},[s("div",{staticClass:"vip_bg"},[s("div",{staticClass:"headsimg"},[s("img",{attrs:{src:t.isvip.headimg_url}})]),t._v(" "),s("div",{staticClass:"vipInfos"},[s("p",{staticClass:"p1"},[t._v("会员等级：\n              "),s("b",{directives:[{name:"show",rawName:"v-show",value:2==t.isvip.user_type,expression:"isvip.user_type == 2"}]},[t._v("VIP会员")]),t._v(" "),s("b",{directives:[{name:"show",rawName:"v-show",value:1==t.isvip.user_type,expression:"isvip.user_type == 1"}]},[t._v("会员用户")]),t._v(" "),s("b",{directives:[{name:"show",rawName:"v-show",value:0==t.isvip.user_type,expression:"isvip.user_type == 0"}]},[t._v("普通用户")])]),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:t.isvip.vip_end_time,expression:"isvip.vip_end_time"}],staticClass:"p3"},[t._v("有效期至："+t._s(t._f("timeNumb")(t.isvip.vip_end_time,"yyyy-MM-dd")))])])])]),t._v(" "),t._m(0),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.addmoneyShow,expression:"addmoneyShow"}],staticClass:"chongzhipop"},[s("div",{staticClass:"chongzhi"},[s("div",{staticClass:"moneynumbs"},[s("span",[t._v("￥")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.addmoney,expression:"addmoney"}],attrs:{type:"number",placeholder:"请输入充值金额"},domProps:{value:t.addmoney},on:{input:function(i){i.target.composing||(t.addmoney=i.target.value)}}})]),t._v(" "),s("button",{staticClass:"addok",on:{click:function(i){t.chongzhi()}}},[t._v("确定")]),t._v(" "),s("button",{staticClass:"addcancle",on:{click:t.cancleCz}},[t._v("取消")])])])]),t._v(" "),t._l(t.paycomm,function(i){return s(i.component,{tag:"div",attrs:{showPay:i.parentShowpay,buyInfo:i.buyInfo},on:{close:t.payClose}})}),t._v(" "),s("mt-popup",{staticClass:"actvip",attrs:{position:"bottom",modal:!0},model:{value:t.activeVip,callback:function(i){t.activeVip=i},expression:"activeVip"}},[s("div",[s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.activation,expression:"activation==0"}],staticClass:"step"},[s("h4",[s("span",[s("img",{attrs:{src:a("Xbme")},on:{click:function(i){t.activeVip=!1}}})]),t._v("激活实体卡")]),t._v(" "),s("div",{staticClass:"colum"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"text",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(i){i.target.composing||(t.password=i.target.value)}}})]),t._v(" "),s("div",{staticClass:"colum"},[s("div",{staticClass:"lightBtn",on:{click:t.actVip}},[t._v("立即激活")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1==t.activation,expression:"activation==1"}],staticClass:"step"},[s("h4",{staticClass:"noBorder"},[s("span",[s("img",{attrs:{src:a("Xbme")},on:{click:function(i){t.activeVip=!1}}})])]),t._v(" "),s("p",[t._v("恭喜您，实体卡激活成功")]),t._v(" "),s("p",[s("span")]),t._v(" "),s("div",{staticClass:"lightBtn",on:{click:function(i){t.activeVip=!1}}},[t._v("我知道了")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:2==t.activation,expression:"activation==2"}],staticClass:"step"},[s("h4",{staticClass:"noBorder"},[s("span",[s("img",{attrs:{src:a("Xbme")},on:{click:function(i){t.activeVip=!1}}})])]),t._v(" "),s("p",[t._v(t._s(t.cardError))]),t._v(" "),s("p",[t._v("请确认后重新输入或联系客服")]),t._v(" "),s("div",{staticClass:"lightBtn",on:{click:function(i){t.activation=0}}},[t._v("重新输入")])])])]),t._v(" "),s("div",{staticClass:"buycard"},[s("ul",{directives:[{name:"show",rawName:"v-show",value:t.isvip.user_type<=2,expression:"isvip.user_type<=2"}]},[s("li",{on:{click:function(i){t.buyVip()}}},[t._v("\n            立即购买\n          ")]),t._v(" "),s("li",{on:{click:function(i){t.actcard()}}},[s("div",{staticClass:"lines"}),t._v("\n            激活实体卡\n          ")])])])],2)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"tuanyi_pro"},[i("img",{attrs:{src:a("nwBK")}})])}]};var r=a("VU/8")(o,c,!1,function(t){a("Jxvl")},null,null);i.default=r.exports},"78kv":function(t,i){},Jxvl:function(t,i){},Xbme:function(t,i,a){t.exports=a.p+"static/img/cancel.e31ab10.png"},nwBK:function(t,i,a){t.exports=a.p+"static/img/tuanyi.fb182b3.jpg"}});