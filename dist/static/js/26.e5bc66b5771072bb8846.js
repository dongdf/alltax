webpackJsonp([26],{"+jtx":function(s,t,e){s.exports=e.p+"static/img/state33.f45f5cb.png"},"2SAl":function(s,t){},Gxxn:function(s,t,e){s.exports=e.p+"static/img/state22.58f7d8b.png"},XESK:function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});e("MTyd"),e("Q0Ca");var a={data:function(){return{submitting:!0,placeholder:"请输入回答内容（0/500）",questionInfo:{askUser:{},answers:{}},answercontent:"",shangSelect:{},shanglist:[{name:"1元",value:1},{name:"2元",value:2},{name:"3元",value:3},{name:"5元",value:5}],anshow:!0,mineInfo:{}}},components:{},computed:{},methods:{ckxs:function(s){this.shangSelect.value==s.value?this.shangSelect={}:this.shangSelect=s},checkUser:function(){var s=this;this.$http.get("user/userService/getUserWeChatVo").then(function(t){if(s.mineInfo=t.data.data,!s.mineInfo.mobile)return s.$messagebox.confirm("请完善用户信息后继续回答问题","提示").then(function(t){s.$router.push("/login")}),!1})},subques:function(){var s=this;if(!this.mineInfo.mobile)return this.$messagebox.confirm("请完善用户信息后继续回答问题","提示").then(function(t){s.$router.push("/login")}),!1;var t=this;return this.answercontent.trim()?!!this.anshow&&(this.anshow=!1,this.answercontent=this.answercontent.replace(/\r\n/g,"<br/>"),this.answercontent=this.answercontent.replace(/\n/g,"<br/>"),this.answercontent=this.answercontent.replace(/\s/g," "),void this.$http.post("ask/askService/createAnswer",{subData:{ask_question_id:this.$route.query.questionId,answer_content:this.answercontent,charge:this.shangSelect.value,answer_pic:""}}).then(function(e){1==e.data.code?(s.$toast("提交成功"),setTimeout(function(){s.anshow=!0,t.$router.replace({path:"/question-detail",query:{questionId:s.$route.query.questionId}})},1e3)):s.$toast(e.data.msg)})):(this.$toast("请输入回答内容"),!1)},goToCourse:function(){this.$router.push({path:"course",query:this.$route.query})},gotoDetail:function(){this.$router.push({path:"home",query:this.$route.query})}},mounted:function(){var s=this;this.checkUser(),this.$http.post("ask/askService/getDetail",{subData:this.$route.query.questionId}).then(function(t){console.log(t.data),1==t.data.code&&(s.questionInfo=t.data.data)})}},n={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",[a("ul",{staticClass:"box4 "},[a("li",{staticClass:"clear solved"},[a("div",{staticClass:"state"},[a("img",{directives:[{name:"show",rawName:"v-show",value:0==s.questionInfo.askUser.state,expression:"questionInfo.askUser.state == 0"}],staticClass:"stateimg",attrs:{src:e("Gxxn")}}),s._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:1==s.questionInfo.askUser.state,expression:"questionInfo.askUser.state == 1"}],staticClass:"stateimg",attrs:{src:e("Gxxn")}}),s._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:2==s.questionInfo.askUser.state,expression:"questionInfo.askUser.state == 2"}],staticClass:"stateimg",attrs:{src:e("+jtx")}}),s._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:3==s.questionInfo.askUser.state,expression:"questionInfo.askUser.state == 3"}],staticClass:"stateimg",attrs:{src:e("XsX2")}}),s._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:4==s.questionInfo.askUser.state,expression:"questionInfo.askUser.state == 4"}],staticClass:"stateimg",attrs:{src:e("XsX2")}})]),s._v(" "),a("img",{staticClass:"ar-l",attrs:{src:s.questionInfo.askUser.user_head}}),s._v(" "),a("div",{staticClass:"desc ar-l"},[a("div",{staticClass:"clear t1"},[a("span",{staticClass:"ar-l"},[s._v(s._s(s.questionInfo.askUser.nick_name))]),s._v(" "),a("span",{staticClass:"ar-r"},[s._v(s._s(s._f("time")(s.questionInfo.askUser.created_time)))])]),s._v(" "),a("p",{domProps:{innerHTML:s._s(s.questionInfo.askUser.question_content)}}),s._v(" "),a("div",{staticClass:"clear t2"},[a("span",{staticClass:"ar-r"},[a("span",{staticClass:"mar"},[s._v("回答"+s._s(s.questionInfo.answers.length?s.questionInfo.answers.length:"0"))])])])])])]),s._v(" "),a("div",{staticClass:"ask"},[a("div",{staticClass:"tx"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:s.answercontent,expression:"answercontent"}],attrs:{name:"",id:"tx",placeholder:"请输入回答内容"},domProps:{value:s.answercontent},on:{input:function(t){t.target.composing||(s.answercontent=t.target.value)}}}),s._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:999999==s.mineInfo.company_province&&1!=s.mineInfo.isSpecially,expression:"mineInfo.company_province == 999999 && mineInfo.isSpecially!=1"}],staticClass:"xuanshang"},[s._m(0),s._v(" "),a("p",s._l(s.shanglist,function(t){return a("a",{class:s.shangSelect.value==t.value?"cur":"",on:{click:function(e){s.ckxs(t)}}},[a("span",[s._v(s._s(t.name))])])})),s._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:s.shangSelect.value,expression:"shangSelect.value"}],staticClass:"delchose",on:{click:function(t){s.shangSelect={}}}},[a("a",[s._v("取消悬赏")])])])]),s._v(" "),a("div",{staticClass:"di"},[a("div",{staticClass:"btn",on:{click:s.subques}},[s._v("\n      提交\n    ")])])])])},staticRenderFns:[function(){var s=this.$createElement,t=this._self._c||s;return t("h3",[this._v("选择悬赏金额"),t("i",[this._v("用户付费后才可以查看您的回答内容")])])}]};var i=e("VU/8")(a,n,!1,function(s){e("2SAl")},"data-v-16a30505",null);t.default=i.exports},XsX2:function(s,t,e){s.exports=e.p+"static/img/state44.6d38e7a.png"}});