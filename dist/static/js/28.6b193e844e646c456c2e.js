webpackJsonp([28],{"/2dK":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("MTyd"),a=i("S6xT"),n=i("8GCM"),o={data:function(){return{active:1,classType:[],isall:!1,knowledgeListData:[],loadshow:!0,pnumb:"1",psize:"15",bannerList:[]}},components:{tabbar:s.a,knowledgeList:a.a,msearch:n.a},computed:{},methods:{goAsk:function(){var t=this;this.$http.get("user/userService/getUserWeChatVo").then(function(e){if(t.mineInfo=e.data.data,!t.mineInfo.mobile)return t.$messagebox.confirm("请先完善用户信息","提示").then(function(e){t.$router.push("/login")}),!1;"obytr1bx52j2wielziducml8jyno"==t.mineInfo.imId?t.$toast("不能和自己聊天"):t.$router.push({path:"/chat",query:{targetAccount:"obytr1bx52j2wielziducml8jyno"}})})},goknList:function(t){127==t.id?this.$router.push({path:"/law-list",query:{id:t.id,name:t.classfyName}}):this.$router.push({path:"/knowledge-list",query:{id:t.id,name:t.classfyName}})},getkno:function(t){this.active=t,this.knowledgeListData=[],this.loadshow=!0,0==this.active&&(this.pnumb=1,this.knowledgeHot()),1==this.active&&(this.pnumb=1,this.knowledgeNew()),2==this.active&&(this.pnumb=1,this.knowledgeRec())},loadMoreitem:function(){"Knowledge"==this.$route.name&&(0==this.active&&(this.pnumb++,this.knowledgeHot()),1==this.active&&(this.pnumb++,this.knowledgeNew()),2==this.active&&(this.pnumb++,this.knowledgeRec()))},goToSchool:function(){this.$router.push({path:"school",query:this.$route.query})},goToList:function(t){this.$router.push({path:"knowledge-list",query:{typeId:t}})},goToDetail:function(){this.$router.push({path:"knowledge-detail",query:this.$route.query})},goToCourse:function(){this.$router.push({path:"course-detail",query:this.$route.query})},knowledgeHot:function(){var t=this;this.active=0,this.$http.post("knowledge/knowledgeService/list",{subData:{pageNum:this.pnumb,pageSize:this.psize,sortRule:"visit"}}).then(function(e){if(0==e.data.data.list.length)return t.loadshow=!1,!1;if(t.knowledgeListData.length>0){var i=e.data.data.list;for(var s in i)t.knowledgeListData.push(i[s])}else t.knowledgeListData=e.data.data.list})},knowledgeNew:function(){var t=this;this.active=1,this.$http.post("knowledge/knowledgeService/list",{subData:{pageNum:this.pnumb,pageSize:this.psize,sortRule:"newest"}}).then(function(e){if(0==e.data.data.list.length)return t.loadshow=!1,!1;if(t.knowledgeListData.length>0){var i=e.data.data.list;for(var s in i)t.knowledgeListData.push(i[s])}else t.knowledgeListData=e.data.data.list})},knowledgeRec:function(){var t=this;this.active=2,this.$http.post("knowledge/knowledgeService/list",{subData:{pageNum:this.pnumb,pageSize:this.psize,sortRule:"recommend"}}).then(function(e){if(0==e.data.data.list.length)return t.loadshow=!1,!1;if(t.knowledgeListData.length>0){var i=e.data.data.list;for(var s in i)t.knowledgeListData.push(i[s])}else t.knowledgeListData=e.data.data.list})},getBanner:function(){var t=this;this.$http.post("activity/activityService/banner/findList",{subData:2}).then(function(e){t.bannerList=e.data.data})},bannerGo:function(t){if(!t.img_link.trim())return!1;location.href=t.img_link}},mounted:function(){var t=this;this.getBanner(),this.$http.post("knowledge/knowledgeService/shortCut/list",{}).then(function(e){t.classType=e.data.data}),this.knowledgeNew();this.$parent.shareTimePage({type:1,title:"我仿佛沉浸在知识的海洋里无法自拔",desc:"最新财税法政策解读，最热行业案例分享",link:"/#/knowledge",imgUrl:"https://chs-picture.oss-cn-beijing.aliyuncs.com/chs-hb/logo.jpg"}),this.$parent.shareAppPage({type:1,title:"我仿佛沉浸在知识的海洋里无法自拔",desc:"最新财税法政策解读，最热行业案例分享",link:"/#/knowledge",imgUrl:"https://chs-picture.oss-cn-beijing.aliyuncs.com/chs-hb/logo.jpg"})}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"knowledge"}},[s("msearch",{attrs:{ktype:"knowledge",searchTips:"请输入知识关键字"}}),t._v(" "),s("div",{staticClass:"quickBar"},[s("ul",[t._m(0),t._v(" "),s("li",{},[s("div",{staticClass:"q_item  ",on:{click:t.goAsk}},[s("img",{attrs:{src:i("YNz4")}}),s("h3",[t._v("李静讲税法")]),s("p",[t._v("一对一在线解决问题")])])]),t._v(" "),s("div",{staticClass:"cl"})])]),t._v(" "),s("div",{staticClass:"banner"},[s("mt-swipe",{attrs:{auto:4e3}},t._l(t.bannerList,function(e,i){return s("mt-swipe-item",{key:e.id,nativeOn:{click:function(i){t.bannerGo(e)}}},[s("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.img_url,alt:""}})])}))],1),t._v(" "),s("ul",{staticClass:"box2 clear"},t._l(t.classType,function(e){return s("li",{staticClass:"ar-l fivef",on:{click:function(i){t.goknList(e)}}},[s("img",{attrs:{src:e.shortcytIcon}}),t._v(" "),s("div",[t._v(t._s(e.shortcutName))])])})),t._v(" "),s("ul",{staticClass:"box3 clear"},[s("li",{staticClass:"ar-l",class:{active:0==t.active},on:{click:function(e){t.getkno(0)}}},[t._v("热门")]),t._v(" "),s("li",{staticClass:"ar-l",class:{active:1==t.active},on:{click:function(e){t.getkno(1)}}},[t._v("最新")]),t._v(" "),s("li",{staticClass:"ar-l",class:{active:2==t.active},on:{click:function(e){t.getkno(2)}}},[t._v("推荐")])]),t._v(" "),s("knowledgeList",{attrs:{knowledgeListData:t.knowledgeListData}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.knowledgeListData.length>0&&t.loadshow,expression:"knowledgeListData.length>0 && loadshow"}],staticClass:"loadMore",on:{click:t.loadMoreitem}},[s("button",[t._v("加载更多...")])]),t._v(" "),s("tabbar",{attrs:{active:"1"}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("div",{staticClass:"q_item q_item_c"},[e("img",{attrs:{src:i("7QeR")}}),e("h3",[this._v("查税法")]),e("p",[this._v("财税知识经典案例")])])])}]};var c=i("VU/8")(o,l,!1,function(t){i("MqRt")},"data-v-68473b9f",null);e.default=c.exports},"7QeR":function(t,e,i){t.exports=i.p+"static/img/courseQuick2.6c1ad65.png"},MqRt:function(t,e){},YNz4:function(t,e,i){t.exports=i.p+"static/img/courseQuick1.f2982b4.png"}});