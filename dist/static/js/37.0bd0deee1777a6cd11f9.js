webpackJsonp([37],{"7Ak8":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={name:"money-pic",data:function(){return{showset:!1,maUrl:"",maPrice:0,orderlist:[],pnumb:1,psize:10,loadm:!0}},mounted:function(){this.getorder()},methods:{resetting:function(){if(this.maPrice<=0)return this.$toast("请输入金额"),this.showset=!0,!1;this.setMoney(),this.showset=!1},loadmores:function(){this.pnumb++,this.getorder()},getorder:function(){var t=this;this.$http.post("order/orderService/qrPayOrderList/"+this.psize+"/"+this.pnumb).then(function(s){if(0==s.data.data.list.length)return t.pnumb>1&&t.$toast("没有了"),t.loadm=!1,!1;if(t.loadm=!0,t.orderlist.length>0){var e=s.data.data.list;for(var a in e)t.orderlist.push(e[a])}else t.orderlist=s.data.data.list})},setMoney:function(){var t=this;this.$http.post("activity/posterService/getPayQrByAmount",{amount:this.maPrice,headLogo:1}).then(function(s){t.maUrl=s.data.data},function(s){alert("请重试"),t.showset=!0})}}},i={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("div",{staticClass:"money"},[a("div",{staticClass:"moneyImg"},[t.maUrl?a("img",{attrs:{src:t.maUrl}}):t._e(),t._v(" "),t.maUrl?t._e():a("img",{attrs:{src:e("yJLZ")}})]),t._v(" "),a("div",{staticClass:"actmoney"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.maUrl,expression:"maUrl"}],on:{click:function(s){t.maUrl=""}}},[t._v("清空金额")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.maUrl,expression:"!maUrl"}],on:{click:function(s){t.showset=!0}}},[t._v("设置收款金额")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.orderlist.length>0,expression:"orderlist.length>0"}],staticClass:"moneyList"},[a("h3",[t._v("历史收款记录")]),t._v(" "),a("ul",t._l(t.orderlist,function(s){return a("li",[a("div",{staticClass:"paypic"},[a("img",{attrs:{src:s.headPic}})]),t._v(" "),a("div",{staticClass:"payinfo"},[a("h3",[t._v(t._s(s.nickName))]),t._v(" "),a("p",[t._v(t._s(t._f("timeNumb")(s.payTime,"yyyy-MM-dd hh:mm")))])]),t._v(" "),a("label",{staticClass:"payPrice"},[t._v("￥"+t._s(s.payPrice))]),t._v(" "),a("div",{staticClass:"cl"})])})),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.loadm&&t.orderlist.length>=t.psize,expression:"loadm && orderlist.length>=psize"}],staticClass:"loads",on:{click:t.loadmores}},[t._v("点击加载")])])]),t._v(" "),a("mt-popup",{staticClass:"setmoneys",attrs:{position:"bottom",modal:!0},model:{value:t.showset,callback:function(s){t.showset=s},expression:"showset"}},[a("div",{staticClass:"moneysc"},[a("h3",[a("label",{staticClass:"close",on:{click:function(s){t.showset=!1}}},[t._v("关闭")]),t._v("设置收款金额")]),t._v(" "),a("div",{staticClass:"mboxs"},[a("div",{staticClass:"ibox"},[a("label",[t._v("￥")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.maPrice,expression:"maPrice"}],attrs:{placeholder:"请输入金额"},domProps:{value:t.maPrice},on:{input:function(s){s.target.composing||(t.maPrice=s.target.value)}}})]),t._v(" "),a("button",{on:{click:t.resetting}},[t._v("设置")])])])])],1)},staticRenderFns:[]};var o=e("VU/8")(a,i,!1,function(t){e("v+pd")},"data-v-59154ead",null);s.default=o.exports},"v+pd":function(t,s){},yJLZ:function(t,s,e){t.exports=e.p+"static/img/moneytips_1.a833597.jpg"}});