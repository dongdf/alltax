webpackJsonp([65],{QZNl:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={name:"apply",data:function(){return{info:{name:"",phone:"",company_name:"",desc:"",area:{}},areaShow:!1,areaselectname:"",btype:"",selectArea:{province:"",city:{},county:""}}},components:{areas:a("nT1C").a},mounted:function(){var e=localStorage.getItem("WX_UID")?localStorage.getItem("WX_UID"):"",t=this.$route.query.boss;if(localStorage.setItem("orgPage","apply"),t&&localStorage.setItem("boss",t),e||this.$router.push({path:"/auth"}),e){var a=localStorage.getItem("boss")?localStorage.getItem("boss"):"";if(this.btype=a,!a)return this.$toast("参数错误,请重新打开"),!1}},methods:{popArea:function(){this.areaShow=!0},areaOk:function(e){this.areaselectname=e.province.name+">"+e.city.name+">"+e.county.name,this.selectArea=e,this.info.area=e,this.areaShow=!1},areaCancle:function(){this.areaShow=!1},collectionSubmit:function(){var e=this,t=this.info.phone.trim();return this.info.name.trim()?this.$options.filters.isphone(t)?this.info.company_name.trim()?this.selectArea.city.code?void(1==this.btype?this.$http.post("user/userService/applyExpert",{subData:{expert_name:this.info.name,expert_mobile:this.info.phone,expert_company:this.info.company_name,province:this.selectArea.province.code,city:this.selectArea.city.code,country:this.selectArea.county.code}}).then(function(t){1==t.data.code?e.$messagebox("提交成功,请耐心等待审核"):e.$toast(t.data.msg)}):2==this.btype?this.$http.post("user/userService/applyAgent",{subData:{agent_name:this.info.name,agent_moblie:this.info.phone,agent_company:this.info.company_name,agent_province:this.selectArea.province.code,agent_city:this.selectArea.city.code,agent_country:this.selectArea.county.code}}).then(function(t){1==t.data.code?e.$messagebox("提交成功,请耐心等待审核"):e.$toast(t.data.msg)}):this.$toast("参数错误，请重新进入页面")):(this.$toast("请选择省市"),!1):(this.$toast("请填写公司名称"),!1):(this.$toast("请填写正确的手机号码！"),!1):(this.$toast("请填写姓名！"),!1)},clearStore:function(){localStorage.removeItem("orgPage"),localStorage.removeItem("boss")}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"page-field"},[a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.btype,expression:"btype == 1"}],staticClass:"page-title"},[e._v("专家申请信息填写")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.btype,expression:"btype == 2"}],staticClass:"page-title"},[e._v("经纪人申请信息填写")]),e._v(" "),a("div",{staticClass:"page-part"},[a("div",{staticClass:"itemTitle"},[e._v("姓名")]),e._v(" "),a("mt-field",{attrs:{placeholder:"请输入姓名",type:"text"},model:{value:e.info.name,callback:function(t){e.$set(e.info,"name",t)},expression:"info.name"}}),e._v(" "),a("div",{staticClass:"itemTitle"},[e._v("手机")]),e._v(" "),a("mt-field",{attrs:{placeholder:"请输入手机",type:"number"},model:{value:e.info.phone,callback:function(t){e.$set(e.info,"phone",t)},expression:"info.phone"}}),e._v(" "),a("div",{staticClass:"itemTitle"},[e._v("公司")]),e._v(" "),a("mt-field",{attrs:{placeholder:"请输入公司名称",type:"text",rows:"4"},model:{value:e.info.company_name,callback:function(t){e.$set(e.info,"company_name",t)},expression:"info.company_name"}}),e._v(" "),a("div",{staticClass:"itemTitle"},[e._v("请选择地区")]),e._v(" "),a("div",{staticStyle:{background:"#FFF",padding:"15px 5px","border-top":"1px solid #eee","border-bottom":"1px solid #eee"},on:{click:function(t){e.popArea()}}},[a("span",{directives:[{name:"show",rawName:"v-show",value:!e.areaselectname,expression:"!areaselectname"}],staticStyle:{color:"#CCC"}},[e._v("点击选择 >")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.areaselectname,expression:"areaselectname"}]},[e._v(e._s(e.areaselectname))])]),e._v(" "),a("areas",{attrs:{pickerShow:e.areaShow},on:{areaok:e.areaOk,areacancle:e.areaCancle}})],1),e._v(" "),a("area")]),e._v(" "),a("div",{staticClass:"btnw"},[a("mt-button",{staticClass:"btns",attrs:{size:"large"},nativeOn:{click:function(t){return e.collectionSubmit(t)}}},[e._v("提交申请")])],1)])},staticRenderFns:[]};var i=a("VU/8")(s,o,!1,function(e){a("igLw")},"data-v-58ebcc56",null);t.default=i.exports},igLw:function(e,t){}});