webpackJsonp([83],{ZMtf:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={name:"invitation",data:function(){return{info:{name:"",phone:"",phoneCode:""},areaShow:!1,selectArea:{province:null,city:null,county:null},sec:120,messageShow:"",issendsss:!1,time:null,btype:""}},components:{},mounted:function(){var e=localStorage.getItem("WX_UID")?localStorage.getItem("WX_UID"):"",t=this.$route.query.boss;if(localStorage.setItem("orgPage","invitation"),t&&localStorage.setItem("boss",t),e||this.$router.push({path:"/auth"}),e){var s=localStorage.getItem("boss")?localStorage.getItem("boss"):"";if(this.btype=s,!s)return this.$toast("参数错误,请重新打开"),!1}},methods:{getphoneCode:function(){var e=this,t=this.info.phone.trim();return this.$options.filters.isphone(t)?!this.issendsss&&(this.issendsss=!0,void this.$http.post("user/userService/sendSMS",{subData:{mobile:this.info.phone}}).then(function(t){1==t.data.code?(e.issendsss=!0,e.messageShow=e.sec+"S",e.sec--,e.timer=setInterval(function(){e.messageShow=e.sec+"S",e.sec--,1==e.sec&&(clearInterval(e.timer),e.issendsss=!1,e.sec=120)},1e3)):(e.issendsss=!1,e.$toast(t.data.msg))})):(this.$toast("请填写正确的手机号码！"),!1)},collectionSubmit:function(){var e=this,t=this.info.phone.trim();return this.info.name.trim()?this.$options.filters.isphone(t)?this.info.phoneCode.trim()?void this.$http.post("user/userService/applyEmplyee",{subData:{agent_name:this.info.name,agent_moblie:this.info.phone,agent_company:"",agent_province:"",agent_city:"",agent_country:"",popenId:this.btype,code:this.info.phoneCode}}).then(function(t){1==t.data.code?(e.$toast("提交成功，即将前往首页"),e.clearStore(),setTimeout(function(){e.$router.push("/home")},1e3)):e.$toast(t.data.msg)}):(this.$toast("请填写验证码！"),!1):(this.$toast("请填写正确的手机号码！"),!1):(this.$toast("请填写姓名！"),!1)},clearStore:function(){localStorage.removeItem("orgPage"),localStorage.removeItem("boss")}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"page-field"},[s("div",{staticClass:"page-title"},[e._v("销售人员申请")]),e._v(" "),s("div",{staticClass:"page-part"},[s("div",{staticClass:"itemTitle"},[e._v("姓名")]),e._v(" "),s("mt-field",{attrs:{placeholder:"请输入姓名",type:"text"},model:{value:e.info.name,callback:function(t){e.$set(e.info,"name",t)},expression:"info.name"}}),e._v(" "),s("div",{staticClass:"itemTitle"},[e._v("手机")]),e._v(" "),s("mt-field",{attrs:{placeholder:"请输入手机",type:"number"},model:{value:e.info.phone,callback:function(t){e.$set(e.info,"phone",t)},expression:"info.phone"}}),e._v(" "),s("div",{staticStyle:{position:"relative"}},[s("mt-field",{attrs:{placeholder:"请输入验证码",type:"number"},model:{value:e.info.phoneCode,callback:function(t){e.$set(e.info,"phoneCode",t)},expression:"info.phoneCode"}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.issendsss,expression:"!issendsss"}],staticClass:"cds",on:{click:e.getphoneCode}},[e._v("获取验证码")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.issendsss,expression:"issendsss"}],staticClass:"cds",staticStyle:{color:"#999"}},[e._v(e._s(e.messageShow))])],1)],1),e._v(" "),s("area")]),e._v(" "),s("div",{staticClass:"btnw"},[s("mt-button",{staticClass:"btns",attrs:{size:"large"},nativeOn:{click:function(t){return e.collectionSubmit(t)}}},[e._v("加入")])],1)])},staticRenderFns:[]};var n=s("VU/8")(o,i,!1,function(e){s("ovLR")},"data-v-1496ddd6",null);t.default=n.exports},ovLR:function(e,t){}});