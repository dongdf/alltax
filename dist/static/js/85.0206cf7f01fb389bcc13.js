webpackJsonp([85],{cFCg:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={name:"invitation-card",data:function(){return{qinfoshow:!1,name:"",phone:"",inviDetail:{},imgPath:{},mid:"",isshowqian:!1}},mounted:function(){this.$route.query.id&&(this.mid=this.$route.query.id,this.getQstate(),this.getinviDetail())},methods:{getQstate:function(){var t=this;this.$http.get("activity/meetingService/signInCheck?meetingId="+this.mid).then(function(i){1==i.data.code?t.isshowqian=!0:t.isshowqian=!1})},qiandao:function(){var t=this;return this.name.trim()?this.$options.filters.isphone(this.phone)?void this.$http.get("activity/meetingService/signIn?meetingId="+this.mid+"&name="+this.name.trim()+"&mobile="+this.phone).then(function(i){1==i.data.code?(t.$messagebox.alert("签到成功"),t.qinfoshow=!1,t.isshowqian=!1,setTimeout(function(){t.getQstate()},1e3)):t.$toast(i.data.msg)}):(this.$toast("请填写正确的手机号码！"),!1):(this.$toast("请输入姓名"),!1)},getinviDetail:function(){var t=this;this.$http.get("activity/meetingService/detail?id="+this.mid).then(function(i){if(1!=i.data.code)return t.$toast(i.data.msg),setTimeout(function(){t.$router.replace("/home")},2e3),!1;t.inviDetail=i.data.data,document.title=i.data.data.meeting_name;var e={type:1,title:t.inviDetail.meeting_name,desc:t.inviDetail.meeting_name,link:"/#/invitationCard?id="+t.mid+"&fxopenid="+t.inviDetail.p_openid,imgUrl:i.data.data.meeting_pic};t.$parent.shareTimePage(e),t.$parent.shareAppPage(e)})}}},a={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"invicontent"},[e("img",{attrs:{src:t.inviDetail.meeting_pic}})]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isshowqian,expression:"isshowqian"}],staticClass:"qianc",on:{click:function(i){t.qinfoshow=!0}}},[t._v("立即签到")]),t._v(" "),e("mt-popup",{staticClass:"inviInfo",attrs:{position:"bottom",modal:!0},model:{value:t.qinfoshow,callback:function(i){t.qinfoshow=i},expression:"qinfoshow"}},[e("div",{staticClass:"qdpp_cc"},[e("h3",[t._v("请填写签到信息")]),t._v(" "),e("ul",[e("li",[e("label",[t._v("姓   名")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{placeholder:"请输入姓名"},domProps:{value:t.name},on:{input:function(i){i.target.composing||(t.name=i.target.value)}}})]),t._v(" "),e("li",[e("label",[t._v("手机号")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{placeholder:"请输入手机号"},domProps:{value:t.phone},on:{input:function(i){i.target.composing||(t.phone=i.target.value)}}})]),t._v(" "),e("li",{staticClass:"qbtn"},[e("button",{on:{click:t.qiandao}},[t._v("确认签到")])])])])])],1)},staticRenderFns:[]};var s=e("VU/8")(n,a,!1,function(t){e("pIsp")},"data-v-06986043",null);i.default=s.exports},pIsp:function(t,i){}});